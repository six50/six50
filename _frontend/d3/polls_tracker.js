import './polls_tracker.scss';

import map from 'lodash.map';
import sortBy from 'lodash.sortby';
import dateFormat from 'dateformat';
import * as d3 from 'd3'

const DATA = [{"pollster":"General Election","publisher":"General Election","sampled_from":"07 May 2015","sampled_to":"07 May 2015","sample_size":1000.0,"con":0.38,"lab":0.31,"lib":0.08,"ukip":0.13,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3949438069,"lab_smooth":0.3036407834,"lib_smooth":0.0757341259,"ukip_smooth":0.1215310853,"green_smooth":0.0426074337},{"pollster":"Survation","publisher":"Mail on Sunday","sampled_from":"08 May 2015","sampled_to":"09 May 2015","sample_size":1027.0,"con":0.4,"lab":0.31,"lib":0.06,"ukip":0.12,"green":0.03,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3947383336,"lab_smooth":0.3035485085,"lib_smooth":0.0758445712,"ukip_smooth":0.1211798274,"green_smooth":0.0427674282},{"pollster":"YouGov","publisher":"The Sun","sampled_from":"25 May 2015","sampled_to":"26 May 2015","sample_size":1709.0,"con":0.41,"lab":0.3,"lib":0.07,"ukip":0.13,"green":0.04,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3931296467,"lab_smooth":0.3029363878,"lib_smooth":0.0765268744,"ukip_smooth":0.1183992027,"green_smooth":0.0438283375},{"pollster":"ComRes","publisher":"Daily Mail","sampled_from":"29 May 2015","sampled_to":"31 May 2015","sample_size":1000.0,"con":0.41,"lab":0.29,"lib":0.08,"ukip":0.1,"green":0.05,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3927393713,"lab_smooth":0.3027913867,"lib_smooth":0.0766467668,"ukip_smooth":0.1176465592,"green_smooth":0.0440515691},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"12 Jun 2015","sampled_to":"14 Jun 2015","sample_size":1004.0,"con":0.37,"lab":0.31,"lib":0.08,"ukip":0.13,"green":0.05,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3918936447,"lab_smooth":0.3023864459,"lib_smooth":0.0768639904,"ukip_smooth":0.1156439828,"green_smooth":0.0445535713},{"pollster":"Ipsos-MORI","publisher":"London Evening Standard","sampled_from":"14 Jun 2015","sampled_to":"16 Jun 2015","sample_size":1005.0,"con":0.39,"lab":0.3,"lib":0.09,"ukip":0.08,"green":0.06,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3917941284,"lab_smooth":0.3023255791,"lib_smooth":0.0768907502,"ukip_smooth":0.1153670895,"green_smooth":0.0446201914},{"pollster":"ComRes","publisher":"Daily Mail","sampled_from":"26 Jun 2015","sampled_to":"28 Jun 2015","sample_size":1002.0,"con":0.39,"lab":0.27,"lib":0.09,"ukip":0.11,"green":0.06,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3911906082,"lab_smooth":0.30191166,"lib_smooth":0.077131138,"ukip_smooth":0.1137020212,"green_smooth":0.0450874184},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"10 Jul 2015","sampled_to":"12 Jul 2015","sample_size":1005.0,"con":0.38,"lab":0.34,"lib":0.06,"ukip":0.13,"green":0.04,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3896805815,"lab_smooth":0.3017180057,"lib_smooth":0.0775488689,"ukip_smooth":0.1119535381,"green_smooth":0.0456578718},{"pollster":"Ipsos-MORI","publisher":"London Evening Standard","sampled_from":"18 Jul 2015","sampled_to":"20 Jul 2015","sample_size":1026.0,"con":0.37,"lab":0.31,"lib":0.1,"ukip":0.09,"green":0.08,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3891712565,"lab_smooth":0.3025372495,"lib_smooth":0.0767994826,"ukip_smooth":0.1123974389,"green_smooth":0.0448385306},{"pollster":"ComRes","publisher":"Daily Mail","sampled_from":"24 Jul 2015","sampled_to":"26 Jul 2015","sample_size":1001.0,"con":0.4,"lab":0.28,"lib":0.07,"ukip":0.1,"green":0.05,"other":0.1,"total":0.9,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3892899248,"lab_smooth":0.3032250385,"lib_smooth":0.0758562775,"ukip_smooth":0.1130158819,"green_smooth":0.0438336363},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"07 Aug 2015","sampled_to":"09 Aug 2015","sample_size":1000.0,"con":0.4,"lab":0.31,"lib":0.07,"ukip":0.1,"green":0.04,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3903271501,"lab_smooth":0.3055656689,"lib_smooth":0.0730255465,"ukip_smooth":0.1161123133,"green_smooth":0.0406027694},{"pollster":"ComRes","publisher":"Independent on Sunday;Sunday Mirror","sampled_from":"12 Aug 2015","sampled_to":"13 Aug 2015","sample_size":2035.0,"con":0.4,"lab":0.29,"lib":0.08,"ukip":0.13,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3901063007,"lab_smooth":0.3063664349,"lib_smooth":0.072725902,"ukip_smooth":0.1178447734,"green_smooth":0.0399388032},{"pollster":"Survation","publisher":"TSSA","sampled_from":"12 Aug 2015","sampled_to":"13 Aug 2015","sample_size":1007.0,"con":0.38,"lab":0.33,"lib":0.06,"ukip":0.15,"green":0.03,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3901063007,"lab_smooth":0.3063664349,"lib_smooth":0.072725902,"ukip_smooth":0.1178447734,"green_smooth":0.0399388032},{"pollster":"ComRes","publisher":"Daily Mail","sampled_from":"21 Aug 2015","sampled_to":"23 Aug 2015","sample_size":1001.0,"con":0.42,"lab":0.28,"lib":0.08,"ukip":0.09,"green":0.06,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3907927969,"lab_smooth":0.3074510528,"lib_smooth":0.0719934499,"ukip_smooth":0.1216872424,"green_smooth":0.0382575746},{"pollster":"Survation","publisher":"Mail on Sunday","sampled_from":"03 Sep 2015","sampled_to":"04 Sep 2015","sample_size":1004.0,"con":0.38,"lab":0.32,"lib":0.06,"ukip":0.13,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3901141382,"lab_smooth":0.3101122998,"lib_smooth":0.0715369648,"ukip_smooth":0.1281028484,"green_smooth":0.0360714704},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"11 Sep 2015","sampled_to":"13 Sep 2015","sample_size":1006.0,"con":0.38,"lab":0.32,"lib":0.08,"ukip":0.13,"green":0.03,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3874783373,"lab_smooth":0.3120441731,"lib_smooth":0.0718350795,"ukip_smooth":0.1298436396,"green_smooth":0.035133256},{"pollster":"ComRes","publisher":"Independent on Sunday;Sunday Mirror","sampled_from":"16 Sep 2015","sampled_to":"17 Sep 2015","sample_size":2015.0,"con":0.42,"lab":0.3,"lib":0.07,"ukip":0.13,"green":0.03,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3861194341,"lab_smooth":0.3129424937,"lib_smooth":0.0720186382,"ukip_smooth":0.1297946821,"green_smooth":0.0347180046},{"pollster":"Opinium","publisher":"Opinium","sampled_from":"15 Sep 2015","sampled_to":"18 Sep 2015","sample_size":1942.0,"con":0.37,"lab":0.32,"lib":0.06,"ukip":0.14,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3857824287,"lab_smooth":0.3131749462,"lib_smooth":0.0720767734,"ukip_smooth":0.1297622792,"green_smooth":0.034612926},{"pollster":"YouGov","publisher":"Sunday Times","sampled_from":"17 Sep 2015","sampled_to":"18 Sep 2015","sample_size":1601.0,"con":0.39,"lab":0.31,"lib":0.06,"ukip":0.16,"green":0.03,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3857824287,"lab_smooth":0.3131749462,"lib_smooth":0.0720767734,"ukip_smooth":0.1297622792,"green_smooth":0.034612926},{"pollster":"Ipsos-MORI","publisher":"Evening Standard","sampled_from":"19 Sep 2015","sampled_to":"23 Sep 2015","sample_size":1255.0,"con":0.39,"lab":0.34,"lib":0.09,"ukip":0.07,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3842063813,"lab_smooth":0.3144657414,"lib_smooth":0.0721357931,"ukip_smooth":0.1308870109,"green_smooth":0.0341017985},{"pollster":"ComRes","publisher":"Daily Mail","sampled_from":"26 Sep 2015","sampled_to":"28 Sep 2015","sample_size":1009.0,"con":0.39,"lab":0.3,"lib":0.09,"ukip":0.12,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.382416142,"lab_smooth":0.3157752543,"lib_smooth":0.0725116363,"ukip_smooth":0.1308099653,"green_smooth":0.0335194973},{"pollster":"YouGov","publisher":"The Sun","sampled_from":"29 Sep 2015","sampled_to":"30 Sep 2015","sample_size":2064.0,"con":0.37,"lab":0.31,"lib":0.07,"ukip":0.17,"green":0.02,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3817237459,"lab_smooth":0.3161527352,"lib_smooth":0.0727437324,"ukip_smooth":0.1305528432,"green_smooth":0.0333007014},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"09 Oct 2015","sampled_to":"11 Oct 2015","sample_size":1002.0,"con":0.38,"lab":0.34,"lib":0.07,"ukip":0.11,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3780383328,"lab_smooth":0.3176618711,"lib_smooth":0.0742703746,"ukip_smooth":0.1272388408,"green_smooth":0.0323192819},{"pollster":"ComRes","publisher":"Independent on Sunday;Sunday Mirror","sampled_from":"14 Oct 2015","sampled_to":"15 Oct 2015","sample_size":2051.0,"con":0.42,"lab":0.29,"lib":0.07,"ukip":0.13,"green":0.03,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3768597611,"lab_smooth":0.3177449951,"lib_smooth":0.0742000404,"ukip_smooth":0.1266267726,"green_smooth":0.032005805},{"pollster":"Opinium","publisher":"Opinium","sampled_from":"13 Oct 2015","sampled_to":"16 Oct 2015","sample_size":1934.0,"con":0.37,"lab":0.32,"lib":0.05,"ukip":0.15,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3765140356,"lab_smooth":0.3178475606,"lib_smooth":0.0741829959,"ukip_smooth":0.126303342,"green_smooth":0.0319009964},{"pollster":"Ipsos-MORI","publisher":"Evening Standard","sampled_from":"17 Oct 2015","sampled_to":"19 Oct 2015","sample_size":1021.0,"con":0.36,"lab":0.32,"lib":0.1,"ukip":0.12,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3762538875,"lab_smooth":0.3174852231,"lib_smooth":0.0736573965,"ukip_smooth":0.1269292986,"green_smooth":0.0317766215},{"pollster":"ComRes","publisher":"Daily Mail","sampled_from":"23 Oct 2015","sampled_to":"25 Oct 2015","sample_size":1002.0,"con":0.38,"lab":0.33,"lib":0.08,"ukip":0.1,"green":0.03,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3781994218,"lab_smooth":0.3147810846,"lib_smooth":0.0722864875,"ukip_smooth":0.1306921501,"green_smooth":0.0319422535},{"pollster":"Survation","publisher":"Leave.EU","sampled_from":"09 Nov 2015","sampled_to":"11 Nov 2015","sample_size":2007.0,"con":0.36,"lab":0.3,"lib":0.07,"ukip":0.15,"green":0.03,"other":0.09,"total":0.91,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3834336787,"lab_smooth":0.307202114,"lib_smooth":0.0705719444,"ukip_smooth":0.1394915904,"green_smooth":0.0320023859},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"13 Nov 2015","sampled_to":"15 Nov 2015","sample_size":1006.0,"con":0.39,"lab":0.33,"lib":0.07,"ukip":0.12,"green":0.03,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3849621393,"lab_smooth":0.305465193,"lib_smooth":0.0698819118,"ukip_smooth":0.1416774471,"green_smooth":0.0320067484},{"pollster":"BMG Research","publisher":"BMG Research","sampled_from":"11 Nov 2015","sampled_to":"17 Nov 2015","sample_size":1334.0,"con":0.37,"lab":0.3,"lib":0.07,"ukip":0.15,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3859704756,"lab_smooth":0.3041105355,"lib_smooth":0.0691085627,"ukip_smooth":0.1435550539,"green_smooth":0.0320687256},{"pollster":"Ipsos-MORI","publisher":"Evening Standard","sampled_from":"14 Nov 2015","sampled_to":"17 Nov 2015","sample_size":1021.0,"con":0.41,"lab":0.34,"lib":0.07,"ukip":0.07,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3859704756,"lab_smooth":0.3041105355,"lib_smooth":0.0691085627,"ukip_smooth":0.1435550539,"green_smooth":0.0320687256},{"pollster":"Survation","publisher":"Leave.EU","sampled_from":"16 Nov 2015","sampled_to":"17 Nov 2015","sample_size":1546.0,"con":0.37,"lab":0.3,"lib":0.06,"ukip":0.16,"green":0.03,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3859704756,"lab_smooth":0.3041105355,"lib_smooth":0.0691085627,"ukip_smooth":0.1435550539,"green_smooth":0.0320687256},{"pollster":"ComRes","publisher":"Independent on Sunday;Sunday Mirror","sampled_from":"18 Nov 2015","sampled_to":"20 Nov 2015","sample_size":2067.0,"con":0.42,"lab":0.27,"lib":0.07,"ukip":0.15,"green":0.03,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3867890032,"lab_smooth":0.3035332526,"lib_smooth":0.06880979,"ukip_smooth":0.143602365,"green_smooth":0.0326067605},{"pollster":"ComRes","publisher":"Daily Mail","sampled_from":"20 Nov 2015","sampled_to":"22 Nov 2015","sample_size":1000.0,"con":0.4,"lab":0.29,"lib":0.08,"ukip":0.11,"green":0.03,"other":0.09,"total":0.91,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3869225256,"lab_smooth":0.3037315892,"lib_smooth":0.0687363077,"ukip_smooth":0.1428776263,"green_smooth":0.0331208582},{"pollster":"YouGov","publisher":"YouGov","sampled_from":"20 Nov 2015","sampled_to":"24 Nov 2015","sample_size":4317.0,"con":0.38,"lab":0.29,"lib":0.06,"ukip":0.17,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3869867175,"lab_smooth":0.3040951273,"lib_smooth":0.0686666207,"ukip_smooth":0.1419615107,"green_smooth":0.0336402069},{"pollster":"YouGov","publisher":"The Times","sampled_from":"30 Nov 2015","sampled_to":"01 Dec 2015","sample_size":1657.0,"con":0.41,"lab":0.3,"lib":0.06,"ukip":0.16,"green":0.03,"other":0.04,"total":0.96,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3871673573,"lab_smooth":0.3057479637,"lib_smooth":0.0683697139,"ukip_smooth":0.1384051732,"green_smooth":0.0353656724},{"pollster":"ComRes","publisher":"Independent on Sunday;Sunday Mirror","sampled_from":"09 Dec 2015","sampled_to":"11 Dec 2015","sample_size":2049.0,"con":0.4,"lab":0.29,"lib":0.07,"ukip":0.16,"green":0.03,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3867894862,"lab_smooth":0.3094811957,"lib_smooth":0.0681458711,"ukip_smooth":0.1321097197,"green_smooth":0.0379156252},{"pollster":"ComRes","publisher":"Daily Mail","sampled_from":"11 Dec 2015","sampled_to":"13 Dec 2015","sample_size":1001.0,"con":0.37,"lab":0.33,"lib":0.07,"ukip":0.11,"green":0.05,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3862726309,"lab_smooth":0.3108628267,"lib_smooth":0.0681532092,"ukip_smooth":0.1304202704,"green_smooth":0.0385531713},{"pollster":"Ipsos-MORI","publisher":"Evening Standard","sampled_from":"12 Dec 2015","sampled_to":"14 Dec 2015","sample_size":1040.0,"con":0.38,"lab":0.31,"lib":0.09,"ukip":0.09,"green":0.06,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.385896049,"lab_smooth":0.3117592107,"lib_smooth":0.0681792897,"ukip_smooth":0.1294072833,"green_smooth":0.0389262178},{"pollster":"Opinium","publisher":"Observer","sampled_from":"15 Dec 2015","sampled_to":"18 Dec 2015","sample_size":1936.0,"con":0.38,"lab":0.3,"lib":0.05,"ukip":0.16,"green":0.05,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3869839612,"lab_smooth":0.3098846714,"lib_smooth":0.0676783582,"ukip_smooth":0.1336687498,"green_smooth":0.0374793558},{"pollster":"ICM","publisher":"Guardian","sampled_from":"18 Dec 2015","sampled_to":"20 Dec 2015","sample_size":1003.0,"con":0.39,"lab":0.34,"lib":0.07,"ukip":0.1,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3869164573,"lab_smooth":0.3101831084,"lib_smooth":0.0675971845,"ukip_smooth":0.1335979427,"green_smooth":0.0375063396},{"pollster":"Panelbase","publisher":"Sunday Times","sampled_from":"08 Jan 2016","sampled_to":"14 Jan 2016","sample_size":2087.0,"con":0.39,"lab":0.31,"lib":0.06,"ukip":0.14,"green":0.05,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3906707532,"lab_smooth":0.3082741264,"lib_smooth":0.0666032202,"ukip_smooth":0.1360271827,"green_smooth":0.0351839544},{"pollster":"ComRes","publisher":"Independent on Sunday;Sunday Mirror","sampled_from":"13 Jan 2016","sampled_to":"15 Jan 2016","sample_size":2004.0,"con":0.4,"lab":0.29,"lib":0.07,"ukip":0.16,"green":0.03,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3906480836,"lab_smooth":0.3082142343,"lib_smooth":0.0667023109,"ukip_smooth":0.1360448083,"green_smooth":0.0350883289},{"pollster":"Survation","publisher":"Mail on Sunday","sampled_from":"15 Jan 2016","sampled_to":"16 Jan 2016","sample_size":1017.0,"con":0.37,"lab":0.3,"lib":0.07,"ukip":0.16,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3905813574,"lab_smooth":0.3081589318,"lib_smooth":0.0668019705,"ukip_smooth":0.1360983575,"green_smooth":0.0349955174},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"15 Jan 2016","sampled_to":"17 Jan 2016","sample_size":1001.0,"con":0.4,"lab":0.35,"lib":0.06,"ukip":0.1,"green":0.03,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3904943944,"lab_smooth":0.3080986922,"lib_smooth":0.0668993813,"ukip_smooth":0.1361823426,"green_smooth":0.0349040385},{"pollster":"Ipsos-MORI","publisher":"Ipsos-MORI","sampled_from":"23 Jan 2016","sampled_to":"25 Jan 2016","sample_size":1027.0,"con":0.4,"lab":0.31,"lib":0.07,"ukip":0.11,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3915166387,"lab_smooth":0.3067266086,"lib_smooth":0.06695419,"ukip_smooth":0.1384891614,"green_smooth":0.0337137924},{"pollster":"YouGov","publisher":"The Times","sampled_from":"03 Feb 2016","sampled_to":"04 Feb 2016","sample_size":1675.0,"con":0.39,"lab":0.29,"lib":0.06,"ukip":0.18,"green":0.03,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3893552613,"lab_smooth":0.306304222,"lib_smooth":0.0684084314,"ukip_smooth":0.1388050253,"green_smooth":0.0334864719},{"pollster":"ComRes","publisher":"Independent on Sunday;Sunday Mirror","sampled_from":"10 Feb 2016","sampled_to":"12 Feb 2016","sample_size":2018.0,"con":0.41,"lab":0.27,"lib":0.09,"ukip":0.15,"green":0.03,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3860125428,"lab_smooth":0.3080884553,"lib_smooth":0.0693942091,"ukip_smooth":0.139194956,"green_smooth":0.0334956876},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"12 Feb 2016","sampled_to":"14 Feb 2016","sample_size":1004.0,"con":0.39,"lab":0.32,"lib":0.07,"ukip":0.11,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3853790484,"lab_smooth":0.3083237347,"lib_smooth":0.0696688276,"ukip_smooth":0.1392049091,"green_smooth":0.0334815127},{"pollster":"Ipsos-MORI","publisher":"Ipsos-MORI","sampled_from":"13 Feb 2016","sampled_to":"16 Feb 2016","sample_size":1001.0,"con":0.39,"lab":0.33,"lib":0.06,"ukip":0.12,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3848093185,"lab_smooth":0.3084948711,"lib_smooth":0.0699503262,"ukip_smooth":0.1392083048,"green_smooth":0.0334628705},{"pollster":"ComRes","publisher":"Daily Mail","sampled_from":"19 Feb 2016","sampled_to":"22 Feb 2016","sample_size":1000.0,"con":0.38,"lab":0.31,"lib":0.08,"ukip":0.12,"green":0.03,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3817850635,"lab_smooth":0.3108229585,"lib_smooth":0.0706937908,"ukip_smooth":0.1399541661,"green_smooth":0.0334331376},{"pollster":"BMG Research","publisher":"BMG Research","sampled_from":"17 Feb 2016","sampled_to":"23 Feb 2016","sample_size":1268.0,"con":0.38,"lab":0.3,"lib":0.05,"ukip":0.16,"green":0.05,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3809929291,"lab_smooth":0.3116371726,"lib_smooth":0.0707937504,"ukip_smooth":0.1401039225,"green_smooth":0.0334432269},{"pollster":"YouGov","publisher":"The Times","sampled_from":"21 Feb 2016","sampled_to":"23 Feb 2016","sample_size":3482.0,"con":0.37,"lab":0.3,"lib":0.08,"ukip":0.16,"green":0.03,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3809929291,"lab_smooth":0.3116371726,"lib_smooth":0.0707937504,"ukip_smooth":0.1401039225,"green_smooth":0.0334432269},{"pollster":"ComRes","publisher":"Independent on Sunday;Sunday Mirror","sampled_from":"09 Mar 2016","sampled_to":"10 Mar 2016","sample_size":2059.0,"con":0.38,"lab":0.29,"lib":0.07,"ukip":0.16,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3670091494,"lab_smooth":0.3227652283,"lib_smooth":0.0708453543,"ukip_smooth":0.1446785243,"green_smooth":0.0348760174},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"11 Mar 2016","sampled_to":"13 Mar 2016","sample_size":1001.0,"con":0.36,"lab":0.36,"lib":0.08,"ukip":0.11,"green":0.03,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3643087406,"lab_smooth":0.3243993629,"lib_smooth":0.0707033509,"ukip_smooth":0.1461842713,"green_smooth":0.0351749702},{"pollster":"YouGov","publisher":"The Times","sampled_from":"16 Mar 2016","sampled_to":"17 Mar 2016","sample_size":1691.0,"con":0.33,"lab":0.34,"lib":0.06,"ukip":0.16,"green":0.03,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3612211625,"lab_smooth":0.3265440163,"lib_smooth":0.0707141212,"ukip_smooth":0.148014659,"green_smooth":0.0355350067},{"pollster":"ComRes","publisher":"Daily Mail","sampled_from":"18 Mar 2016","sampled_to":"20 Mar 2016","sample_size":1002.0,"con":0.37,"lab":0.35,"lib":0.07,"ukip":0.09,"green":0.04,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3609234134,"lab_smooth":0.3265136366,"lib_smooth":0.0708322638,"ukip_smooth":0.1490142605,"green_smooth":0.0355274102},{"pollster":"Ipsos-MORI","publisher":"Ipsos-MORI","sampled_from":"19 Mar 2016","sampled_to":"22 Mar 2016","sample_size":1023.0,"con":0.36,"lab":0.34,"lib":0.1,"ukip":0.11,"green":0.03,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3603887232,"lab_smooth":0.3274731807,"lib_smooth":0.0708356927,"ukip_smooth":0.1493396101,"green_smooth":0.0355760578},{"pollster":"BMG Research","publisher":"BMG Research","sampled_from":"24 Mar 2016","sampled_to":"29 Mar 2016","sample_size":1298.0,"con":0.36,"lab":0.31,"lib":0.07,"ukip":0.16,"green":0.05,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3607924673,"lab_smooth":0.3279764354,"lib_smooth":0.0702499696,"ukip_smooth":0.150793839,"green_smooth":0.0355331132},{"pollster":"Opinium","publisher":"Observer","sampled_from":"29 Mar 2016","sampled_to":"01 Apr 2016","sample_size":1966.0,"con":0.33,"lab":0.32,"lib":0.05,"ukip":0.17,"green":0.04,"other":0.09,"total":0.91,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3607476112,"lab_smooth":0.3282555909,"lib_smooth":0.0698873201,"ukip_smooth":0.1514526449,"green_smooth":0.0356088607},{"pollster":"YouGov","publisher":"The Times","sampled_from":"11 Apr 2016","sampled_to":"12 Apr 2016","sample_size":1639.0,"con":0.31,"lab":0.34,"lib":0.08,"ukip":0.17,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3629585446,"lab_smooth":0.3241267308,"lib_smooth":0.0679282387,"ukip_smooth":0.155725152,"green_smooth":0.0361902185},{"pollster":"ComRes","publisher":"Independent on Sunday;Sunday Mirror","sampled_from":"13 Apr 2016","sampled_to":"14 Apr 2016","sample_size":2036.0,"con":0.35,"lab":0.3,"lib":0.08,"ukip":0.16,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.363569629,"lab_smooth":0.3230409047,"lib_smooth":0.0676043251,"ukip_smooth":0.1566346197,"green_smooth":0.0363020384},{"pollster":"ICM","publisher":"Guardian","sampled_from":"15 Apr 2016","sampled_to":"17 Apr 2016","sample_size":1003.0,"con":0.38,"lab":0.33,"lib":0.07,"ukip":0.13,"green":0.03,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3627230397,"lab_smooth":0.3222977661,"lib_smooth":0.0677890104,"ukip_smooth":0.1575848766,"green_smooth":0.0369045318},{"pollster":"ICM","publisher":"Guardian","sampled_from":"15 Apr 2016","sampled_to":"17 Apr 2016","sample_size":2008.0,"con":0.36,"lab":0.31,"lib":0.07,"ukip":0.16,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3627230397,"lab_smooth":0.3222977661,"lib_smooth":0.0677890104,"ukip_smooth":0.1575848766,"green_smooth":0.0369045318},{"pollster":"Ipsos-MORI","publisher":"Evening Standard","sampled_from":"16 Apr 2016","sampled_to":"18 Apr 2016","sample_size":1026.0,"con":0.38,"lab":0.35,"lib":0.06,"ukip":0.11,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3623947454,"lab_smooth":0.3221039144,"lib_smooth":0.067876073,"ukip_smooth":0.157951071,"green_smooth":0.0371494386},{"pollster":"YouGov","publisher":"The Times","sampled_from":"25 Apr 2016","sampled_to":"26 Apr 2016","sample_size":1650.0,"con":0.3,"lab":0.33,"lib":0.06,"ukip":0.2,"green":0.03,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3624961551,"lab_smooth":0.3205226418,"lib_smooth":0.0680103496,"ukip_smooth":0.1602457177,"green_smooth":0.0383416456},{"pollster":"Opinium","publisher":"Opinium","sampled_from":"26 Apr 2016","sampled_to":"29 Apr 2016","sample_size":2005.0,"con":0.38,"lab":0.3,"lib":0.05,"ukip":0.15,"green":0.05,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3620870257,"lab_smooth":0.3200048416,"lib_smooth":0.0680529007,"ukip_smooth":0.1609382883,"green_smooth":0.0387860763},{"pollster":"ComRes","publisher":"Independent on Sunday;Sunday Mirror","sampled_from":"11 May 2016","sampled_to":"12 May 2016","sample_size":2043.0,"con":0.36,"lab":0.3,"lib":0.08,"ukip":0.17,"green":0.04,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3606152454,"lab_smooth":0.3164721413,"lib_smooth":0.0668921895,"ukip_smooth":0.1647837452,"green_smooth":0.0411225982},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"13 May 2016","sampled_to":"15 May 2016","sample_size":3050.0,"con":0.35,"lab":0.33,"lib":0.07,"ukip":0.16,"green":0.04,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3593150426,"lab_smooth":0.3154389265,"lib_smooth":0.0671029189,"ukip_smooth":0.1663622019,"green_smooth":0.0417857596},{"pollster":"Ipsos-MORI","publisher":"Evening Standard","sampled_from":"14 May 2016","sampled_to":"16 May 2016","sample_size":1002.0,"con":0.36,"lab":0.34,"lib":0.08,"ukip":0.1,"green":0.05,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3586947295,"lab_smooth":0.3151806252,"lib_smooth":0.0673264586,"ukip_smooth":0.1667397929,"green_smooth":0.0419141943},{"pollster":"Opinium","publisher":"Observer","sampled_from":"17 May 2016","sampled_to":"19 May 2016","sample_size":2008.0,"con":0.35,"lab":0.3,"lib":0.05,"ukip":0.18,"green":0.05,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3567468297,"lab_smooth":0.3147875962,"lib_smooth":0.0682712603,"ukip_smooth":0.1675494278,"green_smooth":0.0420838393},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"27 May 2016","sampled_to":"29 May 2016","sample_size":2052.0,"con":0.36,"lab":0.31,"lib":0.07,"ukip":0.17,"green":0.04,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3511182468,"lab_smooth":0.3141771788,"lib_smooth":0.0709283568,"ukip_smooth":0.1709811567,"green_smooth":0.0417061542},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"27 May 2016","sampled_to":"29 May 2016","sample_size":1004.0,"con":0.36,"lab":0.32,"lib":0.07,"ukip":0.15,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3511182468,"lab_smooth":0.3141771788,"lib_smooth":0.0709283568,"ukip_smooth":0.1709811567,"green_smooth":0.0417061542},{"pollster":"Opinium","publisher":"Observer","sampled_from":"31 May 2016","sampled_to":"03 Jun 2016","sample_size":2007.0,"con":0.34,"lab":0.3,"lib":0.06,"ukip":0.18,"green":0.04,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3491052945,"lab_smooth":0.3131731695,"lib_smooth":0.0712850159,"ukip_smooth":0.1721384029,"green_smooth":0.0412891498},{"pollster":"Opinium","publisher":"Observer","sampled_from":"07 Jun 2016","sampled_to":"10 Jun 2016","sample_size":2009.0,"con":0.35,"lab":0.32,"lib":0.04,"ukip":0.18,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3463993297,"lab_smooth":0.3114320609,"lib_smooth":0.0725399656,"ukip_smooth":0.1731912882,"green_smooth":0.0403057},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"10 Jun 2016","sampled_to":"13 Jun 2016","sample_size":2001.0,"con":0.34,"lab":0.3,"lib":0.08,"ukip":0.19,"green":0.04,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3457399629,"lab_smooth":0.3109628152,"lib_smooth":0.073375998,"ukip_smooth":0.1722220021,"green_smooth":0.0406529592},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"10 Jun 2016","sampled_to":"13 Jun 2016","sample_size":1000.0,"con":0.34,"lab":0.33,"lib":0.09,"ukip":0.14,"green":0.05,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3457399629,"lab_smooth":0.3109628152,"lib_smooth":0.073375998,"ukip_smooth":0.1722220021,"green_smooth":0.0406529592},{"pollster":"Ipsos-MORI","publisher":"Evening Standard","sampled_from":"11 Jun 2016","sampled_to":"14 Jun 2016","sample_size":1257.0,"con":0.35,"lab":0.34,"lib":0.09,"ukip":0.1,"green":0.04,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3453636783,"lab_smooth":0.3108601864,"lib_smooth":0.0737334566,"ukip_smooth":0.1722591888,"green_smooth":0.0407933151},{"pollster":"ComRes","publisher":"Independent on Sunday;Sunday Mirror","sampled_from":"15 Jun 2016","sampled_to":"16 Jun 2016","sample_size":2046.0,"con":0.34,"lab":0.29,"lib":0.08,"ukip":0.19,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.345681465,"lab_smooth":0.310519428,"lib_smooth":0.0744100803,"ukip_smooth":0.1710185633,"green_smooth":0.040970236},{"pollster":"Opinium","publisher":"Observer","sampled_from":"14 Jun 2016","sampled_to":"17 Jun 2016","sample_size":2006.0,"con":0.34,"lab":0.3,"lib":0.06,"ukip":0.18,"green":0.04,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3458687731,"lab_smooth":0.3103710709,"lib_smooth":0.0747884186,"ukip_smooth":0.1704778976,"green_smooth":0.0410549263},{"pollster":"Opinium","publisher":"Opinium","sampled_from":"20 Jun 2016","sampled_to":"22 Jun 2016","sample_size":3011.0,"con":0.34,"lab":0.3,"lib":0.06,"ukip":0.19,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.347247516,"lab_smooth":0.309533211,"lib_smooth":0.0767920726,"ukip_smooth":0.1674551317,"green_smooth":0.0413478586},{"pollster":"Survation","publisher":"Mail on Sunday","sampled_from":"24 Jun 2016","sampled_to":"25 Jun 2016","sample_size":1033.0,"con":0.32,"lab":0.32,"lib":0.09,"ukip":0.16,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3511123604,"lab_smooth":0.3088246183,"lib_smooth":0.0782808715,"ukip_smooth":0.163108548,"green_smooth":0.0410980876},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"24 Jun 2016","sampled_to":"26 Jun 2016","sample_size":2001.0,"con":0.36,"lab":0.32,"lib":0.07,"ukip":0.15,"green":0.05,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3519908445,"lab_smooth":0.3085352423,"lib_smooth":0.078644567,"ukip_smooth":0.1618078373,"green_smooth":0.0410528876},{"pollster":"Opinium","publisher":"Opinium","sampled_from":"28 Jun 2016","sampled_to":"30 Jun 2016","sample_size":2006.0,"con":0.34,"lab":0.29,"lib":0.07,"ukip":0.17,"green":0.04,"other":0.09,"total":0.91,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3564992378,"lab_smooth":0.3070977807,"lib_smooth":0.0800961831,"ukip_smooth":0.1560923715,"green_smooth":0.0407302603},{"pollster":"ICM","publisher":"ICM","sampled_from":"01 Jul 2016","sampled_to":"03 Jul 2016","sample_size":1979.0,"con":0.37,"lab":0.3,"lib":0.08,"ukip":0.15,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3603458371,"lab_smooth":0.3060105968,"lib_smooth":0.0811134434,"ukip_smooth":0.1516691758,"green_smooth":0.0404290598},{"pollster":"Survation","publisher":"Constitutional\nResearch Council","sampled_from":"04 Jul 2016","sampled_to":"05 Jul 2016","sample_size":1008.0,"con":0.36,"lab":0.32,"lib":0.09,"ukip":0.12,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.363385806,"lab_smooth":0.305375163,"lib_smooth":0.0820824983,"ukip_smooth":0.1485733242,"green_smooth":0.040221932},{"pollster":"ICM","publisher":"ICM","sampled_from":"08 Jul 2016","sampled_to":"10 Jul 2016","sample_size":2025.0,"con":0.38,"lab":0.3,"lib":0.08,"ukip":0.15,"green":0.04,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3727343597,"lab_smooth":0.3006988961,"lib_smooth":0.0819677656,"ukip_smooth":0.1440182113,"green_smooth":0.0396304823},{"pollster":"Ipsos-MORI","publisher":"Ipsos-MORI","sampled_from":"09 Jul 2016","sampled_to":"11 Jul 2016","sample_size":1021.0,"con":0.36,"lab":0.35,"lib":0.11,"ukip":0.08,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.37462635,"lab_smooth":0.2997533033,"lib_smooth":0.0819407257,"ukip_smooth":0.1430498104,"green_smooth":0.0394861879},{"pollster":"ICM","publisher":"ICM","sampled_from":"13 Jul 2016","sampled_to":"15 Jul 2016","sample_size":2027.0,"con":0.39,"lab":0.29,"lib":0.09,"ukip":0.14,"green":0.04,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3813948599,"lab_smooth":0.2964035199,"lib_smooth":0.0823932186,"ukip_smooth":0.1388440165,"green_smooth":0.0388445758},{"pollster":"YouGov","publisher":"YouGov","sampled_from":"17 Jul 2016","sampled_to":"18 Jul 2016","sample_size":1891.0,"con":0.4,"lab":0.29,"lib":0.09,"ukip":0.12,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3856345058,"lab_smooth":0.294017934,"lib_smooth":0.0828567505,"ukip_smooth":0.1358833023,"green_smooth":0.0383682169},{"pollster":"Opinium","publisher":"Observer","sampled_from":"19 Jul 2016","sampled_to":"22 Jul 2016","sample_size":2231.0,"con":0.37,"lab":0.31,"lib":0.06,"ukip":0.15,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3897213883,"lab_smooth":0.2911280603,"lib_smooth":0.0831642742,"ukip_smooth":0.1326238557,"green_smooth":0.0379034236},{"pollster":"ICM","publisher":"ICM","sampled_from":"22 Jul 2016","sampled_to":"24 Jul 2016","sample_size":2012.0,"con":0.43,"lab":0.27,"lib":0.08,"ukip":0.13,"green":0.04,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3898407746,"lab_smooth":0.2909726938,"lib_smooth":0.0831321396,"ukip_smooth":0.1318490452,"green_smooth":0.0380716732},{"pollster":"YouGov","publisher":"The Times","sampled_from":"25 Jul 2016","sampled_to":"26 Jul 2016","sample_size":1680.0,"con":0.4,"lab":0.28,"lib":0.08,"ukip":0.13,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3904950588,"lab_smooth":0.2907243851,"lib_smooth":0.0830011222,"ukip_smooth":0.1312089099,"green_smooth":0.0381820404},{"pollster":"YouGov","publisher":"The Times","sampled_from":"01 Aug 2016","sampled_to":"02 Aug 2016","sample_size":1722.0,"con":0.42,"lab":0.28,"lib":0.08,"ukip":0.12,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3937306508,"lab_smooth":0.2891037235,"lib_smooth":0.082008774,"ukip_smooth":0.1295563606,"green_smooth":0.0381108302},{"pollster":"TNS BMRB","publisher":"TNS BMRB","sampled_from":"05 Aug 2016","sampled_to":"08 Aug 2016","sample_size":1199.0,"con":0.39,"lab":0.26,"lib":0.1,"ukip":0.11,"green":0.07,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3948919395,"lab_smooth":0.2887837048,"lib_smooth":0.081546104,"ukip_smooth":0.1296874713,"green_smooth":0.0379800997},{"pollster":"YouGov","publisher":"The Times","sampled_from":"08 Aug 2016","sampled_to":"09 Aug 2016","sample_size":1692.0,"con":0.38,"lab":0.31,"lib":0.08,"ukip":0.13,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3952146067,"lab_smooth":0.2886142796,"lib_smooth":0.081440794,"ukip_smooth":0.1295052511,"green_smooth":0.0379663019},{"pollster":"ICM","publisher":"ICM","sampled_from":"12 Aug 2016","sampled_to":"15 Aug 2016","sample_size":2010.0,"con":0.4,"lab":0.28,"lib":0.08,"ukip":0.14,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3954191838,"lab_smooth":0.2887571218,"lib_smooth":0.081185688,"ukip_smooth":0.1293466588,"green_smooth":0.0378574589},{"pollster":"Ipsos-MORI","publisher":"Evening Standard","sampled_from":"13 Aug 2016","sampled_to":"15 Aug 2016","sample_size":1017.0,"con":0.45,"lab":0.34,"lib":0.07,"ukip":0.06,"green":0.04,"other":0.04,"total":0.96,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3954191838,"lab_smooth":0.2887571218,"lib_smooth":0.081185688,"ukip_smooth":0.1293466588,"green_smooth":0.0378574589},{"pollster":"YouGov","publisher":"The Times","sampled_from":"16 Aug 2016","sampled_to":"17 Aug 2016","sample_size":1677.0,"con":0.38,"lab":0.3,"lib":0.09,"ukip":0.13,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3955361407,"lab_smooth":0.2888994646,"lib_smooth":0.0806475175,"ukip_smooth":0.1296532643,"green_smooth":0.037860328},{"pollster":"YouGov","publisher":"The Times","sampled_from":"22 Aug 2016","sampled_to":"23 Aug 2016","sample_size":1660.0,"con":0.4,"lab":0.29,"lib":0.08,"ukip":0.13,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3951729544,"lab_smooth":0.2903645461,"lib_smooth":0.0793491911,"ukip_smooth":0.1303595232,"green_smooth":0.0381056659},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"26 Aug 2016","sampled_to":"28 Aug 2016","sample_size":2040.0,"con":0.41,"lab":0.27,"lib":0.09,"ukip":0.13,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3954065144,"lab_smooth":0.2910892066,"lib_smooth":0.0780038972,"ukip_smooth":0.1306333194,"green_smooth":0.0385090171},{"pollster":"YouGov","publisher":"The Times","sampled_from":"30-Aug-2016","sampled_to":"31-Aug-2016","sample_size":1687.0,"con":0.38,"lab":0.3,"lib":0.07,"ukip":0.14,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3955563439,"lab_smooth":0.2907881022,"lib_smooth":0.0777664052,"ukip_smooth":0.1306715923,"green_smooth":0.0386613032},{"pollster":"YouGov","publisher":"The Times","sampled_from":"04-Sep-2016","sampled_to":"05-Sep-2016","sample_size":1616.0,"con":0.4,"lab":0.29,"lib":0.07,"ukip":0.13,"green":0.03,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3961379623,"lab_smooth":0.2905258295,"lib_smooth":0.076889656,"ukip_smooth":0.1312034198,"green_smooth":0.03873029},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"09-Sep-2016","sampled_to":"11-Sep-2016","sample_size":2013.0,"con":0.41,"lab":0.27,"lib":0.08,"ukip":0.14,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.396626695,"lab_smooth":0.289558839,"lib_smooth":0.0763684751,"ukip_smooth":0.1308783061,"green_smooth":0.0387253841},{"pollster":"Ipsos-MORI","publisher":"Evening Standard","sampled_from":"10-Sep-2016","sampled_to":"14-Sep-2016","sample_size":1000.0,"con":0.4,"lab":0.34,"lib":0.06,"ukip":0.09,"green":0.05,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3975314665,"lab_smooth":0.2886349484,"lib_smooth":0.0766036206,"ukip_smooth":0.1299811535,"green_smooth":0.0386730438},{"pollster":"YouGov","publisher":"The Times","sampled_from":"13-Sep-2016","sampled_to":"14-Sep-2016","sample_size":1732.0,"con":0.38,"lab":0.31,"lib":0.07,"ukip":0.13,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3975314665,"lab_smooth":0.2886349484,"lib_smooth":0.0766036206,"ukip_smooth":0.1299811535,"green_smooth":0.0386730438},{"pollster":"YouGov","publisher":"The Times","sampled_from":"19-Sep-2016","sampled_to":"21-Sep-2016","sample_size":3285.0,"con":0.39,"lab":0.3,"lib":0.08,"ukip":0.13,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4005117198,"lab_smooth":0.2868335298,"lib_smooth":0.07701648,"ukip_smooth":0.1272513528,"green_smooth":0.0387241219},{"pollster":"BMG","publisher":"BMG","sampled_from":"20-Sep-2016","sampled_to":"23-Sep-2016","sample_size":2026.0,"con":0.39,"lab":0.28,"lib":0.08,"ukip":0.13,"green":0.05,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.401987715,"lab_smooth":0.2859573963,"lib_smooth":0.077316593,"ukip_smooth":0.1261540449,"green_smooth":0.0388295885},{"pollster":"ICM","publisher":"Sun on Sunday","sampled_from":"21-Sep-2016","sampled_to":"23-Sep-2016","sample_size":2015.0,"con":0.41,"lab":0.26,"lib":0.08,"ukip":0.14,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.401987715,"lab_smooth":0.2859573963,"lib_smooth":0.077316593,"ukip_smooth":0.1261540449,"green_smooth":0.0388295885},{"pollster":"YouGov","publisher":"The Times","sampled_from":"28-Sep-2016","sampled_to":"29-Sep-2016","sample_size":1658.0,"con":0.39,"lab":0.3,"lib":0.08,"ukip":0.13,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4051493724,"lab_smooth":0.2839483329,"lib_smooth":0.0784752602,"ukip_smooth":0.1236161039,"green_smooth":0.0389606249},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"7-Oct-2016","sampled_to":"9-Oct-2016","sample_size":2017.0,"con":0.43,"lab":0.26,"lib":0.08,"ukip":0.11,"green":0.06,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4090820632,"lab_smooth":0.2798689798,"lib_smooth":0.0808924768,"ukip_smooth":0.1207295419,"green_smooth":0.0392820655},{"pollster":"YouGov","publisher":"The Times","sampled_from":"11-Oct-2016","sampled_to":"12-Oct-2016","sample_size":1669.0,"con":0.42,"lab":0.28,"lib":0.09,"ukip":0.11,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4107762539,"lab_smooth":0.2783859674,"lib_smooth":0.0816438764,"ukip_smooth":0.1196451548,"green_smooth":0.0391146288},{"pollster":"Ipsos-MORI","publisher":"Ipsos-MORI","sampled_from":"14-Oct-2016","sampled_to":"17-Oct-2016","sample_size":1016.0,"con":0.47,"lab":0.29,"lib":0.07,"ukip":0.06,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4136933458,"lab_smooth":0.2770223923,"lib_smooth":0.0824082701,"ukip_smooth":0.1174638275,"green_smooth":0.0391839817},{"pollster":"YouGov","publisher":"Election Data","sampled_from":"19-Oct-2016","sampled_to":"20-Oct-2016","sample_size":1608.0,"con":0.42,"lab":0.26,"lib":0.08,"ukip":0.12,"green":0.05,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4151914326,"lab_smooth":0.2769852429,"lib_smooth":0.0826998079,"ukip_smooth":0.1161557014,"green_smooth":0.0393208173},{"pollster":"BMG","publisher":"BMG","sampled_from":"19-Oct-2016","sampled_to":"24-Oct-2016","sample_size":1546.0,"con":0.42,"lab":0.28,"lib":0.08,"ukip":0.12,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4163532564,"lab_smooth":0.2777240797,"lib_smooth":0.083026616,"ukip_smooth":0.1150673845,"green_smooth":0.0394433021},{"pollster":"YouGov","publisher":"The Times","sampled_from":"24-Oct-2016","sampled_to":"25-Oct-2016","sample_size":1655.0,"con":0.4,"lab":0.27,"lib":0.11,"ukip":0.11,"green":0.03,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4164193533,"lab_smooth":0.2780123487,"lib_smooth":0.0831106903,"ukip_smooth":0.1149527568,"green_smooth":0.0394254424},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"28-Oct-2016","sampled_to":"30-Oct-2016","sample_size":2040.0,"con":0.43,"lab":0.27,"lib":0.08,"ukip":0.12,"green":0.05,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.416146193,"lab_smooth":0.2793534495,"lib_smooth":0.0834869847,"ukip_smooth":0.1149154145,"green_smooth":0.0388408498},{"pollster":"YouGov","publisher":"The Times","sampled_from":"31-Oct-2016","sampled_to":"1-Nov-2016","sample_size":1608.0,"con":0.41,"lab":0.27,"lib":0.1,"ukip":0.11,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.415840869,"lab_smooth":0.2799317463,"lib_smooth":0.0836714225,"ukip_smooth":0.1150524982,"green_smooth":0.0386906596},{"pollster":"Opinium","publisher":"Opinium","sampled_from":"01 Nov 2016","sampled_to":"04 Nov 2016","sample_size":2001.0,"con":0.4,"lab":0.32,"lib":0.06,"ukip":0.13,"green":0.04,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4154761778,"lab_smooth":0.2801767027,"lib_smooth":0.0839353274,"ukip_smooth":0.1155856332,"green_smooth":0.0383970442},{"pollster":"Ipsos-MORI","publisher":"Ipsos-MORI","sampled_from":"11 Nov 2016","sampled_to":"14 Nov 2016","sample_size":1013.0,"con":0.42,"lab":0.33,"lib":0.1,"ukip":0.07,"green":0.03,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.414322332,"lab_smooth":0.2811909721,"lib_smooth":0.0853858174,"ukip_smooth":0.1173854053,"green_smooth":0.0375104811},{"pollster":"YouGov","publisher":"The Times","sampled_from":"14 Nov 2016","sampled_to":"15 Nov 2016","sample_size":1717.0,"con":0.42,"lab":0.28,"lib":0.08,"ukip":0.11,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4142899992,"lab_smooth":0.2815012548,"lib_smooth":0.0854648897,"ukip_smooth":0.1174757026,"green_smooth":0.0373723894},{"pollster":"Opinium","publisher":"Opinium","sampled_from":"15 Nov 2016","sampled_to":"18 Nov 2016","sample_size":2005.0,"con":0.41,"lab":0.29,"lib":0.07,"ukip":0.12,"green":0.03,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.413990547,"lab_smooth":0.2814149911,"lib_smooth":0.0860284796,"ukip_smooth":0.1180099285,"green_smooth":0.0370371592},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"18 Nov 2016","sampled_to":"20 Nov 2016","sample_size":2031.0,"con":0.42,"lab":0.28,"lib":0.09,"ukip":0.11,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.413618,"lab_smooth":0.281299709,"lib_smooth":0.0864985779,"ukip_smooth":0.1183731262,"green_smooth":0.036788694},{"pollster":"YouGov","publisher":"The Times","sampled_from":"21 Nov 2016","sampled_to":"22 Nov 2016","sample_size":1693.0,"con":0.41,"lab":0.28,"lib":0.09,"ukip":0.12,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4125883971,"lab_smooth":0.2807392185,"lib_smooth":0.0873518697,"ukip_smooth":0.1190519665,"green_smooth":0.0366303178},{"pollster":"ICM","publisher":"Guardian","sampled_from":"25 Nov 2016","sampled_to":"27 Nov 2016","sample_size":2009.0,"con":0.44,"lab":0.28,"lib":0.07,"ukip":0.12,"green":0.04,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4095759774,"lab_smooth":0.2790648809,"lib_smooth":0.0900038411,"ukip_smooth":0.12115092,"green_smooth":0.0364761954},{"pollster":"YouGov","publisher":"The Times","sampled_from":"28 Nov 2016","sampled_to":"29 Nov 2016","sample_size":1624.0,"con":0.39,"lab":0.27,"lib":0.09,"ukip":0.14,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4088545633,"lab_smooth":0.2784458441,"lib_smooth":0.0909707994,"ukip_smooth":0.1217640145,"green_smooth":0.0363243038},{"pollster":"YouGov","publisher":"The Times","sampled_from":"04-Dec-2016","sampled_to":"05-Dec-2016","sample_size":1667.0,"con":0.42,"lab":0.25,"lib":0.11,"ukip":0.12,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4049360789,"lab_smooth":0.2753713035,"lib_smooth":0.0945112805,"ukip_smooth":0.1250374661,"green_smooth":0.0365718647},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"09-Dec-2016","sampled_to":"11-Dec-2016","sample_size":2049.0,"con":0.41,"lab":0.27,"lib":0.09,"ukip":0.14,"green":0.03,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4019520038,"lab_smooth":0.2737619672,"lib_smooth":0.0958276384,"ukip_smooth":0.1274584507,"green_smooth":0.0369963765},{"pollster":"Ipsos-MORI","publisher":"Ipsos-MORI","sampled_from":"09-Dec-2016","sampled_to":"12-Dec-2016","sample_size":1003.0,"con":0.4,"lab":0.29,"lib":0.14,"ukip":0.09,"green":0.03,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4013690501,"lab_smooth":0.2734427325,"lib_smooth":0.0962539674,"ukip_smooth":0.1279186038,"green_smooth":0.0370540973},{"pollster":"Opinium","publisher":"Observer","sampled_from":"13-Dec-2016","sampled_to":"16-Dec-2016","sample_size":2000.0,"con":0.38,"lab":0.31,"lib":0.06,"ukip":0.13,"green":0.04,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3994128732,"lab_smooth":0.2729718496,"lib_smooth":0.0976168251,"ukip_smooth":0.1291969142,"green_smooth":0.0371262746},{"pollster":"YouGov","publisher":"The Times","sampled_from":"18 Dec 2016","sampled_to":"19 Dec 2016","sample_size":1595.0,"con":0.39,"lab":0.24,"lib":0.12,"ukip":0.14,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3991539616,"lab_smooth":0.274546919,"lib_smooth":0.0975999787,"ukip_smooth":0.1292994696,"green_smooth":0.036984949},{"pollster":"YouGov","publisher":"The Times","sampled_from":"03 Jan 2017","sampled_to":"04 Jan 2017","sample_size":1740.0,"con":0.39,"lab":0.26,"lib":0.1,"ukip":0.14,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.397594759,"lab_smooth":0.2765013567,"lib_smooth":0.1010197702,"ukip_smooth":0.1312286598,"green_smooth":0.036892166},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"06 Jan 2017","sampled_to":"08 Jan 2017","sample_size":2000.0,"con":0.42,"lab":0.28,"lib":0.09,"ukip":0.12,"green":0.04,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3982454871,"lab_smooth":0.2758192308,"lib_smooth":0.1013840855,"ukip_smooth":0.1314886868,"green_smooth":0.0371939596},{"pollster":"YouGov","publisher":"The Times","sampled_from":"09 Jan 2017","sampled_to":"10 Jan 2017","sample_size":1660.0,"con":0.39,"lab":0.28,"lib":0.11,"ukip":0.13,"green":0.03,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3987190638,"lab_smooth":0.2759231412,"lib_smooth":0.1012381009,"ukip_smooth":0.1315605971,"green_smooth":0.0371705929},{"pollster":"Opinium","publisher":"Observer","sampled_from":"10 Jan 2017","sampled_to":"12 Jan 2017","sample_size":2007.0,"con":0.38,"lab":0.3,"lib":0.07,"ukip":0.14,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.3996295766,"lab_smooth":0.275321409,"lib_smooth":0.1011627247,"ukip_smooth":0.1313331343,"green_smooth":0.0372301613},{"pollster":"Survation","publisher":"Mail on Sunday","sampled_from":"13 Jan 2017","sampled_to":"13 Jan 2017","sample_size":1177.0,"con":0.38,"lab":0.29,"lib":0.1,"ukip":0.13,"green":0.02,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4000482915,"lab_smooth":0.2750741594,"lib_smooth":0.1011100298,"ukip_smooth":0.1311949685,"green_smooth":0.0372514495},{"pollster":"Ipsos-MORI","publisher":"Ipsos-MORI","sampled_from":"13 Jan 2017","sampled_to":"16 Jan 2017","sample_size":1132.0,"con":0.43,"lab":0.31,"lib":0.11,"ukip":0.06,"green":0.04,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4010966422,"lab_smooth":0.2741232676,"lib_smooth":0.1011164764,"ukip_smooth":0.1307512937,"green_smooth":0.0374433064},{"pollster":"YouGov","publisher":"The Times","sampled_from":"17 Jan 2017","sampled_to":"18 Jan 2017","sample_size":1654.0,"con":0.42,"lab":0.25,"lib":0.11,"ukip":0.12,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.401655336,"lab_smooth":0.2730688051,"lib_smooth":0.101376886,"ukip_smooth":0.1304994004,"green_smooth":0.037702217},{"pollster":"ICM","publisher":"Guardian","sampled_from":"20 Jan 2017","sampled_to":"22 Jan 2017","sample_size":2052.0,"con":0.42,"lab":0.26,"lib":0.1,"ukip":0.13,"green":0.05,"other":0.04,"total":0.96,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4026924605,"lab_smooth":0.2707752156,"lib_smooth":0.1021530674,"ukip_smooth":0.1299602703,"green_smooth":0.0382258159},{"pollster":"YouGov","publisher":"The Times","sampled_from":"23 Jan 2017","sampled_to":"24 Jan 2017","sample_size":1643.0,"con":0.4,"lab":0.24,"lib":0.1,"ukip":0.14,"green":0.03,"other":0.09,"total":0.91,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4033675564,"lab_smooth":0.269441439,"lib_smooth":0.1025743043,"ukip_smooth":0.1297220169,"green_smooth":0.0384835308},{"pollster":"YouGov","publisher":"The Times","sampled_from":"30 Jan 2017","sampled_to":"31 Jan 2017","sample_size":1705.0,"con":0.4,"lab":0.26,"lib":0.11,"ukip":0.12,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4054116874,"lab_smooth":0.2630926749,"lib_smooth":0.1037284319,"ukip_smooth":0.1291738733,"green_smooth":0.0396780639},{"pollster":"Opinium","publisher":"Observer","sampled_from":"31 Jan 2017","sampled_to":"01 Feb 2017","sample_size":2005.0,"con":0.37,"lab":0.3,"lib":0.08,"ukip":0.14,"green":0.05,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4054177596,"lab_smooth":0.2629821836,"lib_smooth":0.1036664318,"ukip_smooth":0.1291259177,"green_smooth":0.0397338016},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"03 Feb 2017","sampled_to":"05 Feb 2017","sample_size":1984.0,"con":0.42,"lab":0.27,"lib":0.1,"ukip":0.12,"green":0.04,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.405615399,"lab_smooth":0.2619460767,"lib_smooth":0.1033317726,"ukip_smooth":0.1290344493,"green_smooth":0.0399585224},{"pollster":"YouGov","publisher":"The Times","sampled_from":"05 Feb 2017","sampled_to":"06 Feb 2017","sample_size":1984.0,"con":0.4,"lab":0.24,"lib":0.11,"ukip":0.14,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4058635523,"lab_smooth":0.2618248519,"lib_smooth":0.1032978469,"ukip_smooth":0.1289753436,"green_smooth":0.039906911},{"pollster":"ComRes","publisher":"Independent on Sunday;Sunday Mirror","sampled_from":"08 Feb 2017","sampled_to":"10 Feb 2017","sample_size":1218.0,"con":0.41,"lab":0.26,"lib":0.11,"ukip":0.11,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.406883961,"lab_smooth":0.261325322,"lib_smooth":0.1031975905,"ukip_smooth":0.1283966643,"green_smooth":0.0398585172},{"pollster":"YouGov","publisher":"The Times","sampled_from":"12 Feb 2017","sampled_to":"13 Feb 2017","sample_size":2052.0,"con":0.4,"lab":0.24,"lib":0.11,"ukip":0.15,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4089457465,"lab_smooth":0.2612004365,"lib_smooth":0.1028982718,"ukip_smooth":0.1272956433,"green_smooth":0.0397412547},{"pollster":"Ipsos-MORI","publisher":"Evening Standard","sampled_from":"10 Feb 2017","sampled_to":"14 Feb 2017","sample_size":1014.0,"con":0.4,"lab":0.29,"lib":0.13,"ukip":0.09,"green":0.04,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4095422524,"lab_smooth":0.2611673622,"lib_smooth":0.1029029793,"ukip_smooth":0.1269988574,"green_smooth":0.0396740225},{"pollster":"Opinium","publisher":"Observer","sampled_from":"14 Feb 2017","sampled_to":"16 Feb 2017","sample_size":2004.0,"con":0.4,"lab":0.27,"lib":0.08,"ukip":0.14,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4113250943,"lab_smooth":0.260954232,"lib_smooth":0.1027194292,"ukip_smooth":0.1261840302,"green_smooth":0.0395068988},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"17 Feb 2017","sampled_to":"19 Feb 2017","sample_size":2028.0,"con":0.44,"lab":0.26,"lib":0.08,"ukip":0.13,"green":0.04,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4144911179,"lab_smooth":0.2608038896,"lib_smooth":0.1021698598,"ukip_smooth":0.1246153841,"green_smooth":0.0392550652},{"pollster":"YouGov","publisher":"The Times","sampled_from":"21 Feb 2017","sampled_to":"22 Feb 2017","sample_size":2060.0,"con":0.41,"lab":0.25,"lib":0.11,"ukip":0.13,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4176344647,"lab_smooth":0.2607674947,"lib_smooth":0.1013514285,"ukip_smooth":0.1233485115,"green_smooth":0.0390289418},{"pollster":"YouGov","publisher":"The Times","sampled_from":"27 Feb 2017","sampled_to":"28 Feb 2017","sample_size":1666.0,"con":0.42,"lab":0.25,"lib":0.11,"ukip":0.12,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4215046174,"lab_smooth":0.2634249388,"lib_smooth":0.1000294635,"ukip_smooth":0.1189430396,"green_smooth":0.0385798735},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"03 Mar 2017","sampled_to":"05 Mar 2017","sample_size":1787.0,"con":0.44,"lab":0.28,"lib":0.08,"ukip":0.11,"green":0.05,"other":0.04,"total":0.96,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4232034153,"lab_smooth":0.2641450102,"lib_smooth":0.1000171095,"ukip_smooth":0.1156843555,"green_smooth":0.037999537},{"pollster":"YouGov","publisher":"The Times","sampled_from":"08 Mar 2017","sampled_to":"09 Mar 2017","sample_size":1598.0,"con":0.44,"lab":0.25,"lib":0.1,"ukip":0.11,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4256616541,"lab_smooth":0.2643412077,"lib_smooth":0.1000407158,"ukip_smooth":0.1126642225,"green_smooth":0.0376295785},{"pollster":"Ipsos-MORI","publisher":"Ipsos-MORI","sampled_from":"10 Mar 2017","sampled_to":"14 Mar 2017","sample_size":1032.0,"con":0.43,"lab":0.3,"lib":0.13,"ukip":0.06,"green":0.04,"other":0.04,"total":0.96,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4267030178,"lab_smooth":0.2638648427,"lib_smooth":0.1011285322,"ukip_smooth":0.1096982806,"green_smooth":0.0370341323},{"pollster":"YouGov","publisher":"The Times","sampled_from":"13 Mar 2017","sampled_to":"14 Mar 2017","sample_size":1631.0,"con":0.44,"lab":0.27,"lib":0.1,"ukip":0.09,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4267030178,"lab_smooth":0.2638648427,"lib_smooth":0.1011285322,"ukip_smooth":0.1096982806,"green_smooth":0.0370341323},{"pollster":"GfK-NOP","publisher":"GfK-NOP","sampled_from":"01 Mar 2017","sampled_to":"15 Mar 2017","sample_size":1938.0,"con":0.41,"lab":0.28,"lib":0.07,"ukip":0.12,"green":0.06,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.426773825,"lab_smooth":0.2637024601,"lib_smooth":0.1013873726,"ukip_smooth":0.1092130057,"green_smooth":0.0369082316},{"pollster":"Opinium","publisher":"Observer","sampled_from":"14 Mar 2017","sampled_to":"17 Mar 2017","sample_size":2007.0,"con":0.41,"lab":0.28,"lib":0.08,"ukip":0.13,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4268303205,"lab_smooth":0.2635632555,"lib_smooth":0.1017120498,"ukip_smooth":0.1082006948,"green_smooth":0.0366323153},{"pollster":"ComRes","publisher":"Sunday Mirror","sampled_from":"15 Mar 2017","sampled_to":"17 Mar 2017","sample_size":2026.0,"con":0.42,"lab":0.25,"lib":0.12,"ukip":0.1,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4268303205,"lab_smooth":0.2635632555,"lib_smooth":0.1017120498,"ukip_smooth":0.1082006948,"green_smooth":0.0366323153},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"17 Mar 2017","sampled_to":"19 Mar 2017","sample_size":2012.0,"con":0.45,"lab":0.26,"lib":0.09,"ukip":0.1,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4267247745,"lab_smooth":0.2623909644,"lib_smooth":0.1025389012,"ukip_smooth":0.1079434123,"green_smooth":0.0363254373},{"pollster":"YouGov","publisher":"The Times","sampled_from":"20 Mar 2017","sampled_to":"21 Mar 2017","sample_size":1627.0,"con":0.41,"lab":0.25,"lib":0.11,"ukip":0.12,"green":0.03,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4269347414,"lab_smooth":0.261288539,"lib_smooth":0.1033850447,"ukip_smooth":0.107670889,"green_smooth":0.0361865083},{"pollster":"YouGov","publisher":"The Times","sampled_from":"26 Mar 2017","sampled_to":"27 Mar 2017","sample_size":1957.0,"con":0.43,"lab":0.25,"lib":0.11,"ukip":0.1,"green":0.03,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4281904783,"lab_smooth":0.2571596869,"lib_smooth":0.1063489403,"ukip_smooth":0.1072276949,"green_smooth":0.0360055492},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"31 Mar 2017","sampled_to":"02 Apr 2017","sample_size":2005.0,"con":0.43,"lab":0.25,"lib":0.11,"ukip":0.11,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.431598597,"lab_smooth":0.251512457,"lib_smooth":0.1097181165,"ukip_smooth":0.1061859185,"green_smooth":0.0356722082},{"pollster":"YouGov","publisher":"The Times","sampled_from":"05 Apr 2017","sampled_to":"06 Apr 2017","sample_size":1651.0,"con":0.42,"lab":0.25,"lib":0.11,"ukip":0.11,"green":0.03,"other":0.08,"total":0.92,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4377551229,"lab_smooth":0.2508742968,"lib_smooth":0.1111444509,"ukip_smooth":0.1023353005,"green_smooth":0.0357986279},{"pollster":"ComRes","publisher":"Independent on Sunday;Sunday Mirror","sampled_from":"11 Apr 2017","sampled_to":"13 Apr 2017","sample_size":2026.0,"con":0.46,"lab":0.25,"lib":0.11,"ukip":0.09,"green":0.04,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4497798881,"lab_smooth":0.2518699886,"lib_smooth":0.1123716996,"ukip_smooth":0.0952072244,"green_smooth":0.0362105013},{"pollster":"Opinium","publisher":"Observer","sampled_from":"11 Apr 2017","sampled_to":"13 Apr 2017","sample_size":2002.0,"con":0.38,"lab":0.29,"lib":0.07,"ukip":0.14,"green":0.05,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4497798881,"lab_smooth":0.2518699886,"lib_smooth":0.1123716996,"ukip_smooth":0.0952072244,"green_smooth":0.0362105013},{"pollster":"YouGov","publisher":"The Times","sampled_from":"12 Apr 2017","sampled_to":"13 Apr 2017","sample_size":2069.0,"con":0.44,"lab":0.23,"lib":0.12,"ukip":0.1,"green":0.04,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4497798881,"lab_smooth":0.2518699886,"lib_smooth":0.1123716996,"ukip_smooth":0.0952072244,"green_smooth":0.0362105013},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"18 Apr 2017","sampled_to":"18 Apr 2017","sample_size":1000.0,"con":0.46,"lab":0.25,"lib":0.11,"ukip":0.08,"green":0.04,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4637694241,"lab_smooth":0.2567342877,"lib_smooth":0.1113962014,"ukip_smooth":0.0825327849,"green_smooth":0.0333944316},{"pollster":"YouGov","publisher":"The Times","sampled_from":"18 Apr 2017","sampled_to":"19 Apr 2017","sample_size":1727.0,"con":0.48,"lab":0.24,"lib":0.12,"ukip":0.07,"green":0.02,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.465796033,"lab_smooth":0.2585408608,"lib_smooth":0.1105231283,"ukip_smooth":0.0798041116,"green_smooth":0.0325490269},{"pollster":"ComRes","publisher":"Sunday Mirror","sampled_from":"19 Apr 2017","sampled_to":"20 Apr 2017","sample_size":2074.0,"con":0.5,"lab":0.25,"lib":0.11,"ukip":0.07,"green":0.03,"other":0.04,"total":0.96,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4677999044,"lab_smooth":0.2603216464,"lib_smooth":0.1096219578,"ukip_smooth":0.0769767899,"green_smooth":0.0315846364},{"pollster":"Opinium","publisher":"Observer","sampled_from":"19 Apr 2017","sampled_to":"20 Apr 2017","sample_size":2003.0,"con":0.45,"lab":0.26,"lib":0.11,"ukip":0.09,"green":0.03,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4677999044,"lab_smooth":0.2603216464,"lib_smooth":0.1096219578,"ukip_smooth":0.0769767899,"green_smooth":0.0315846364},{"pollster":"You Gov","publisher":"Sunday Times","sampled_from":"20 Apr 2017","sampled_to":"21 Apr 2017","sample_size":1590.0,"con":0.48,"lab":0.25,"lib":0.12,"ukip":0.05,"green":0.03,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4689145282,"lab_smooth":0.2627521636,"lib_smooth":0.1082108126,"ukip_smooth":0.0742509937,"green_smooth":0.0304590264},{"pollster":"Survation","publisher":"Mail on Sunday","sampled_from":"21 Apr 2017","sampled_to":"22 Apr 2017","sample_size":2072.0,"con":0.4,"lab":0.29,"lib":0.11,"ukip":0.11,"green":0.02,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4694163653,"lab_smooth":0.2654733835,"lib_smooth":0.1065191498,"ukip_smooth":0.0719986073,"green_smooth":0.0295352905},{"pollster":"Panelbase","publisher":"Panelbase","sampled_from":"20 Apr 2017","sampled_to":"24 Apr 2017","sample_size":1026.0,"con":0.49,"lab":0.27,"lib":0.1,"ukip":0.05,"green":0.03,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4699546607,"lab_smooth":0.2703364302,"lib_smooth":0.1028365248,"ukip_smooth":0.0688849321,"green_smooth":0.028328602},{"pollster":"ICM","publisher":"The Guardian","sampled_from":"21 Apr 2017","sampled_to":"24 Apr 2017","sample_size":2024.0,"con":0.48,"lab":0.27,"lib":0.1,"ukip":0.07,"green":0.03,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4699546607,"lab_smooth":0.2703364302,"lib_smooth":0.1028365248,"ukip_smooth":0.0688849321,"green_smooth":0.028328602},{"pollster":"Ipsos-MORI","publisher":"Evening Standard","sampled_from":"21 Apr 2017","sampled_to":"25 Apr 2017","sample_size":1004.0,"con":0.49,"lab":0.26,"lib":0.13,"ukip":0.04,"green":0.01,"other":0.07,"total":0.93,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4701383165,"lab_smooth":0.2725832563,"lib_smooth":0.1009106088,"ukip_smooth":0.0677487801,"green_smooth":0.0279407142},{"pollster":"YouGov","publisher":"The Times","sampled_from":"25 Apr 2017","sampled_to":"26 Apr 2017","sample_size":1590.0,"con":0.45,"lab":0.29,"lib":0.1,"ukip":0.07,"green":0.03,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4702766599,"lab_smooth":0.2748011714,"lib_smooth":0.0989506107,"ukip_smooth":0.0667380461,"green_smooth":0.0276260392},{"pollster":"ORB International","publisher":"The Daily Telegraph","sampled_from":"26 Apr 2017","sampled_to":"27 Apr 2017","sample_size":2093.0,"con":0.32,"lab":0.25,"lib":0.08,"ukip":0.06,"green":0.0,"other":null,"total":null,"method":"Live Phone","source":"http:\/\/elections.huffingtonpost.com\/pollster\/polls\/orb-the-daily-telegraph-27588","pdf":"https:\/\/www.orb-international.com\/perch\/resources\/orb-results-26th-27th-april-sunday.pdf","con_smooth":0.470356408,"lab_smooth":0.2770285023,"lib_smooth":0.0969593149,"ukip_smooth":0.0658035364,"green_smooth":0.0273574138},{"pollster":"Opinium","publisher":"The Observer","sampled_from":"25 Apr 2017","sampled_to":"28 Apr 2017","sample_size":2007.0,"con":0.47,"lab":0.3,"lib":0.08,"ukip":0.07,"green":0.03,"other":0.05,"total":0.95,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4703715483,"lab_smooth":0.2792825621,"lib_smooth":0.0949374923,"ukip_smooth":0.0649228992,"green_smooth":0.0271201572},{"pollster":"YouGov","publisher":"Sunday Times","sampled_from":"27 Apr 2017","sampled_to":"28 Apr 2017","sample_size":1612.0,"con":0.44,"lab":0.31,"lib":0.11,"ukip":0.06,"green":0.02,"other":0.06,"total":0.94,"method":null,"source":"http:\/\/www.electoralcalculus.co.uk\/polls_full.html","pdf":null,"con_smooth":0.4703715483,"lab_smooth":0.2792825621,"lib_smooth":0.0949374923,"ukip_smooth":0.0649228992,"green_smooth":0.0271201572},{"pollster":"ICM Unlimited","publisher":"The Guardian","sampled_from":"28 Apr 2017","sampled_to":"05 May 2017","sample_size":1970.0,"con":0.47,"lab":0.28,"lib":0.08,"ukip":0.08,"green":0.04,"other":0.05,"total":0.95,"method":"Internet","source":"http:\/\/elections.huffingtonpost.com\/pollster\/polls\/icm-unlimited-the-guardian-27600","pdf":"https:\/\/www.icmunlimited.com\/wp-content\/uploads\/2017\/05\/2017_guardian_campaignpoll4_april28-02may.pdf","con_smooth":0.4690408602,"lab_smooth":0.2954090294,"lib_smooth":0.0802180182,"ukip_smooth":0.0603000116,"green_smooth":0.0262296103}];
const COLOURS = {"con":"#0F80D6","lab":"#D20004","ld":"#FEAA09","grn":"#5EC500","ukip":"#5E0D78","snp":"#FFFF00","pc":"#337D1E","oth":"#999999","dup":"#D46A4C","ind":"#CCCCCC","sdlp":"#99FF66","sf":"#008800","uup":"#9999FF"};
const DATA_NAME_MAP = Object.entries({con: 'con', lab: 'lab', lib: 'ld', ukip: 'ukip', green: 'grn', other: 'oth'});

const WIDTH = 600;
const HEIGHT = 300;

const _dateParse = d3.timeParse("%d %b %Y");

function dateParse(x) {
  return _dateParse(x.replace(/\-/g, ' '));
}

function formatPercent(n, d) {
  return `${(d * 100.0).toFixed(n)}%`;
}

function translate(x, y) {
  return `translate(${x}, ${y})`;
}

export default class PollsTracker {
  constructor(elem) {
    // Set up SVG
    this.svg = d3.select(elem).append('svg');

    this.svg
      .attr('viewBox', `0 0 ${WIDTH} ${HEIGHT}`)
      .attr('width', '100%')
      .attr('height', '100%');

    this.margin = {top: 20, right: 20, bottom: 30, left: 50};
    this.width = WIDTH - this.margin.left - this.margin.right;
    this.height = HEIGHT - this.margin.top - this.margin.bottom;
    this.g = this.svg
      .append("g")
      .attr("transform", translate(this.margin.left, this.margin.top));

    // Parse Data

    this.data = sortBy(map(DATA, x => ({
      ...x,
      sampled_from: dateParse(x.sampled_from),
      sampled_to: dateParse(x.sampled_to)
    })), x => x.sampled_to);

    // Render
    this.x = d3.scaleTime()
      .rangeRound([0, this.width]);

    this.y = d3.scaleLinear()
      .rangeRound([this.height, 0]);

    const {linesAndColours, xDomain, yDomain} = DATA_NAME_MAP.reduce(
      this.makeLines.bind(this),
      {
        linesAndColours: [],
        xDomain: [],
        yDomain: [],
      }
    );

    this.x.domain(xDomain);
    this.y.domain(d3.extent([...yDomain, 0]));

    this.makeAxes();

    linesAndColours.map(([line, colour]) => {
      this.g.append("path")
        .datum(this.data)
        .attr("fill", "none")
        .attr("stroke", colour)
        .attr("stroke-linejoin", "round")
        .attr("stroke-linecap", "round")
        .attr("stroke-width", 1.5)
        .attr("d", line);
    });

    this.makeScrubber();
  }

  makeAxes() {
    this.g.append("g")
      .attr("transform", translate(0, this.height))
      .call(d3.axisBottom(this.x))
      .select(".domain")
        .remove();

    const yAxis = d3.axisLeft(this.y)
      .tickFormat(d => formatPercent(0, d));

    this.g.append("g").call(yAxis);
  }

  makeLines({linesAndColours, xDomain, yDomain}, [partyKey, colourKey]) {
    const dataKey = `${partyKey}_smooth`;

    const line = d3.line()
      .x(d => this.x(d.sampled_to))
      .y(d => this.y(d[dataKey]));

    return {
      linesAndColours: [...linesAndColours, [line, COLOURS[colourKey]]],
      xDomain: d3.extent([...xDomain, ...d3.extent(this.data, d => d.sampled_to)]),
      yDomain: d3.extent([...yDomain, ...d3.extent(this.data, d => d[dataKey])]),
    };
  }

  makeScrubber() {
    const bisectDate = d3.bisector(d => d.sampled_to).left;

    this.focus = this.g.append("g")
      .attr("class", "focus")
      .style("display", "none");

    for (const [partyKey, _] of DATA_NAME_MAP) {
      this.focus.append('g')
        .attr('class', partyKey)
        .append('text')
          .attr("x", 9)
          .attr("dy", ".35em")
          .exit()
        .append('circle')
          .attr('r', 4.5);
    }

    this.g.append("rect")
      .attr("fill", "none")
      .attr('pointer-events', 'all')
      .attr("width", this.width)
      .attr("height", this.height)
      .on("mouseover", () => this.focus.style("display", null))
      .on("mouseout", () => this.focus.style("display", "none"))
      .on("mousemove", onMouseMove);

    const self = this;

    function onMouseMove() {
      var x0 = self.x.invert(d3.mouse(this)[0]),
          i = bisectDate(self.data, x0, 1),
          d0 = self.data[i - 1],
          d1 = self.data[i],
          d = x0 - d0.sampled_to > d1.sampled_to - x0 ? d1 : d0;

      for (const [partyKey, _] of DATA_NAME_MAP) {
        const dataKey = `${partyKey}_smooth`;

        self.focus.select(`g.${partyKey}`)
          .attr('transform', translate(self.x(d.sampled_to), self.y(d[dataKey])))
          .select('text')
            .text(formatPercent(1, d[dataKey]));
      }
    }
  }
}


